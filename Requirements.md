# item-keeper-server-agent

## Бизнес требования

Приложение хранит карточки товаров и предоставляет быстрый поиск по тегам или по частям слов и фраз. Примеры использования:
  - коллекционирование предметов (косметика: опыт использования, есть в запасе, список желаемого, монетки, левые пляжные тапочки)
  - ведение списка лекарств в аптечке
  - картотека знаний (породы животных с картинками)
  - сторис/дневник (запись параметров, событий с фото фиксацией)
  
Сценарий использования отдается на усмотрение пользователя. 
Карточка товара хранит фото (до 10 шт), название, список тегов, список параметров со значениями. Пользователь может создавать новые параметры и теги при создании карточки товара.
  - Название задает пользователь, может быть не уникальным
  - Тэги используются для быстрого поиска по одному или нескольким тегам (пересечение)
  - Параметр представляет собой название и значение, пример: [Производитель]Бархатные Ручки. Поиск идет по значениям.
  - Пользователь может выгрузить все внесенную ранее информацию к себе на устройство.
  - Пользователь может работать с базой с разных ОС.

## Технические требования
Необходимо реализовать клиент-серверную связь.

Клиент использует агента в соответствии со своей ОС. Предоставить клиенту возможность скачать агента под запрашиваемую ОС. 
После успешной авторизации по паре логин-пароль вся информация клиента (кроме полноразмерных изображений) скачивается в агента. Реализацию отображения информации оставить на усмотрение исполнителя. 
Полноразмерные изображения подгружать по запросу по ID карточки товара. Хранить в агенте и удалять из временной памяти по инициативе пользователя.

В качестве альтернативы предоставить API для подключения сторонних агентов.

- Новый пользователь регистрируется, передавая пару логин-пароль через агента.
- Пользователь получает доступ к данным по паре логин-пароль. После успешного входа агент сохраняет доступ на срок, устанавливаемый в качестве параметра при запуске сервиса. Требуется повторный ввод логина-пароля при отсутствии активности от агента на срок, устанавливаемый в качестве параметра.
- Пользователь может создать новую карточку товара, редактировать, удалить.
- Пользователь может искать товар по части слова (поиск по названию или по значениям параметров). Пользователь может фильтровать список выбрав один или несколько тегов.*реализация на стороне агента: или в своей памяти хранить, или запрашивать сервер.
- Пользователь может добавлять до 10 картинок для каждой карточки товара. Требуется реализовать сервис по сжатию картинок до 1МБ в момент загрузки на сервер(если размер меньше, то не менять) для отображения в карточке товара, а также делать легковесную обложку для отображения в каталоге и в поиске на стороне агента. Реализовать хранение картинок на сервере. Реализовать доступ к картинке по прямой ссылке.


Рассмотреть реализацию в двух вариантах:
- Все данные пользователя (большие картинки в зависимости от настроек на стороне агента) хранятся на стороне агента клиента, обмен с сервером происходит только при внесении изменений
- Агент обращается при каждом поиске или изменении к серверу

*Реализация UI на данном этапе не предполагается.
